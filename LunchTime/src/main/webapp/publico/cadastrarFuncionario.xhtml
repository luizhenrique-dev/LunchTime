<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <ui:composition template="/templates/principal.xhtml">
        <ui:define name="corpo">
            <h3>Cadastro de Novos Funcionários</h3>
            <h:form id="cadastro">
                <p:messages id="messages" autoUpdate="true" closable="true" showDetail="true"/>
                <p:growl id="growl" showDetail="true" sticky="true" life="2000"/>  
                <h:inputHidden value="#{funcionarioBean.funcionario.id}" />

                <p:panelGrid columns="2" columnClasses="colunaEsquerda,colunaDireita">
                    <p:outputLabel value="Nome:" for="nome" />
                    <p:inputText id="nome" label="Nome" value="#{funcionarioBean.funcionario.nome}" size="50" maxlength="255" required="true" requiredMessage="Informe o seu nome.">
                        <f:validateLength minimum="10" maximum="255" />
                    </p:inputText>

                    <p:outputLabel value="Código na empresa:" for="codEmpresa" />
                    <p:inputText id="codEmpresa" label="código na empresa" value="#{funcionarioBean.funcionario.codigoFuncionarioNaEmpresa}" size="15" maxlength="255" required="true" requiredMessage="Informe o seu código na empresa."/>

                    <p:outputLabel value="E-mail:" for="email" />
                    <h:panelGroup>
                        <p:inputText id="email" label="E-mail" value="#{funcionarioBean.funcionario.email}" size="50" maxlength="50" required="true" validatorMessage="E-mail inválido.">
                            <f:validateRegex pattern="[a-zA-Z0-9\-\_\.]+@[a-zA-Z0-9\-\_\.]+" />
                        </p:inputText>
                    </h:panelGroup>

                    <p:outputLabel value="Login:" for="login" />
                    <p:inputText id="login" label="Login" value="#{funcionarioBean.funcionario.login}" size="10" required="true" requiredMessage="Informe o seu login.">
                        <f:validateLength minimum="5" maximum="255"  />
                    </p:inputText>

                    <p:outputLabel value="Senha:" for="senha" />
                    <p:password id="senha" label="Senha" value="#{funcionarioBean.funcionario.senha}" size="10" required="true" redisplay="true">
                        <f:validateLength minimum="8" maximum="16"  />
                    </p:password>

                    <p:outputLabel value="Confirmar Senha:" for="confirmarsenha" />
                    <p:password id="confirmarsenha" label="Confirmar Senha" value="#{funcionarioBean.confirmaSenha}" size="10" required="true" redisplay="true" />
                </p:panelGrid>
                <br />
                <p:outputLabel value="Os campos com * são obrigatórios" /> <br /><br />
                <p:commandButton value="Cadastrar" actionListener="#{funcionarioBean.salvar}" update="growl" icon="ui-icon-disk" />
            </h:form>
            <h:form>
                <br />
                <p:commandButton value="Voltar" action="/publico/login" icon="ui-icon-arrowreturnthick-1-w" />
            </h:form>
        </ui:define>
    </ui:composition>
</html>
